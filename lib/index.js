!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("gree-miniprogram-h5-utils",[],t):"object"==typeof exports?exports["gree-miniprogram-h5-utils"]=t():r["gree-miniprogram-h5-utils"]=t()}("undefined"!=typeof self?self:this,function(){return function(r){function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="/dist/",t(t.s=0)}([function(r,t,e){"use strict";function n(r){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function o(r){return a(r)||u(r)||m(r)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function a(r){if(Array.isArray(r))return y(r)}function f(r,t){return s(r)||c(r,t)||m(r,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,o,i=[],u=!0,a=!1;try{for(e=e.call(r);!(u=(n=e.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(r){a=!0,o=r}finally{try{u||null==e.return||e.return()}finally{if(a)throw o}}return i}}function s(r){if(Array.isArray(r))return r}function p(r,t){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=m(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return u=r.done,r},e:function(r){a=!0,i=r},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw i}}}}function m(r,t){if(r){if("string"==typeof r)return y(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?y(r,t):void 0}}function y(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function d(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"passthrough",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"origin",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"greeapp";if("string"!=typeof e)throw new Error("'isGreeMiniProgram' method param 'customKey' must be type of 'string'");if("string"!=typeof n)throw new Error("'isGreeMiniProgram' method param 'customVal' must be type of 'string'");return h(r,t)[e]===n}function h(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"passthrough",e=b(r);if("string"!=typeof t)throw new Error("'getGreeParams' method param 'key' must be type of 'string'");var n=e[t];return n?v(n):{}}function b(r){if(void 0===r){if(!("undefined"!=typeof window&&window&&window.location&&window.location.href))throw new Error("'getParams' method param 'url' must exist and is type of 'string'");r=window.location.href}if("string"!=typeof r)throw new Error("'getParams' method param 'url' must be of type 'string'");if(!r)return!1;var t=r.split("?")[1];if(!t)return!1;var e=t.split("#")[0];if(!e)return!1;var n,o={},i=p(e.split("&").map(function(r){return r.split("=")}));try{for(i.s();!(n=i.n()).done;){var u=f(n.value,2),a=u[0],l=u[1],c=decodeURIComponent(a),s=decodeURIComponent(l);o[c]=s}}catch(r){i.e(r)}finally{i.f()}return o}function v(r){var t={};if(r.length<=2)return{};var e,n=r.slice(1,r.length-1),o=p(n.split("&").map(function(r){return r.split("=")}));try{for(o.s();!(e=o.n()).done;){var i=f(e.value,2),u=i[0],a=i[1];t[u]=a}}catch(r){o.e(r)}finally{o.f()}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.isGreeMiniProgram=d,t.getGreeParams=h,t.getParams=b,e.d(t,"untilFinished",function(){return g}),e.d(t,"deepClone",function(){return w}),e.d(t,"debounce",function(){return A}),e.d(t,"throttle",function(){return j}),e.d(t,"groupArray",function(){return P}),e.d(t,"merge",function(){return S});var g=function(r,t){if("number"!=typeof t)throw new Error("param millisecond must be type of `number`");var e=[];e=Array.isArray(r)?r.map(function(r){return Promise.resolve(r)}):[Promise.resolve(r)];return Promise.all([].concat(o(e),[function(){return new Promise(function(r,e){setTimeout(r,t)})}()])).then(function(r){return r.slice(0,-1)})},w=function r(t){var e;if("object"===n(t)&&null!==t){e=t.constructor===Array?[]:{};for(var o in t)e[o]="object"===n(t[o])?r(t[o]):t[o]}else e=t;return e},A=function(r,t,e){if("function"!=typeof r)throw new Error("param fn must be a `function`");if("number"!=typeof t)throw new Error("param wait must be a `number`");var n=null;return function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];var a=this;if(n&&clearTimeout(n),e){!n&&r.apply(a,i),n=setTimeout(function(){n=null},t)}else n=setTimeout(function(){n=null,r.apply(a,i)},t)}},j=function(r,t){var e=0;return function(){var n=+new Date,o=this;if(n-e>=t){for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];r.apply(o,u),e=n}}},P=function(r,t){var e=[];if(!Array.isArray(r))throw new TypeError("param 'arr' must be type of Array");if(void 0==t?t=0:"object"===n(t)&&(t=t.valueOf()),"number"!=typeof t)throw new TypeError("param groupSize must be type of number");if(!r||0===r.length)return e;if(t<=0)return r.slice();var o=[];return e.push(o),r.forEach(function(r){o.length===t&&(o=[],e.push(o)),o.push(r)}),0===e.length&&e.push(o),e},S=function r(t,e){var o=e&&e.constructor===Array?[]:{};if(void 0==t&&void 0==e)return null;if(void 0==t||void 0==e){for(var i=t||e,u=0,a=Object.keys(i);u<a.length;u++){var f=a[u];o[f]=i[f]}return o}for(var l=0,c=Object.keys(t);l<c.length;l++){var s=c[l];o[s]=t[s]}for(var p=0,m=Object.keys(e);p<m.length;p++){var y=m[p],d=o[y],h=e[y];void 0==d?o[y]=h:"object"===n(d)&&"object"===n(h)?o[y]=r(d,h):o[y]=h}return o};t.default={isGreeMiniProgram:d,getGreeParams:h,getParams:b,merge:S,untilFinished:g,deepClone:w,debounce:A,throttle:j,groupArray:P}}])});